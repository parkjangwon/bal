# bal advanced mode example
# Use this only when you need explicit runtime tuning.

mode: "advanced"
port: 9295
bind_address: "0.0.0.0"
method: "round_robin"
log_level: "info"

runtime:
  # Health checks
  health_check_interval_ms: 700
  health_check_timeout_ms: 1000
  health_check_fail_threshold: 2
  health_check_success_threshold: 2

  # Backend connect/failover
  backend_connect_timeout_ms: 500
  failover_backoff_initial_ms: 300
  failover_backoff_max_ms: 3000
  backend_cooldown_ms: 1500

  # Protection mode
  protection_trigger_threshold: 8
  protection_window_ms: 10000
  protection_stable_success_threshold: 6

  # Operational safety
  max_concurrent_connections: 20000
  connection_idle_timeout_ms: 30000
  overload_policy: "reject"
  tcp_backlog: 1024

backends:
  - host: "127.0.0.1"
    port: 9000
  - host: "127.0.0.1"
    port: 9100
